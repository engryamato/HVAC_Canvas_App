
> sizewise-hvac-canvas@0.1.0 test
> vitest run src/core/services/__tests__/OperationQueue.test.ts

The CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.
 Vitest  "deps.inline" is deprecated. If you rely on vite-node directly, use "server.deps.inline" instead. Otherwise, consider using "deps.optimizer.web.include"

[7m[1m[36m RUN [39m[22m[27m [36mv1.6.1[39m [90mC:/Users/User/Downloads/GitHub/HVAC_Canvas_App/hvac-design-app[39m

 [33mÎ“Â¥Â»[39m src/core/services/__tests__/OperationQueue.test.ts [2m ([22m[2m22 tests[22m [2m|[22m [31m4 failed[39m[2m)[22m[90m 13[2mms[22m[39m
[31m   [33mÎ“Â¥Â»[31m src/core/services/__tests__/OperationQueue.test.ts[2m > [22mOperationQueue[2m > [22mRetry Logic[2m > [22mshould fail immediately on permanent errors (EPERM)[39m
[31m     Î“Ã¥Ã† expected undefined to be 'EPERM' // Object.is equality[39m
[31m   [33mÎ“Â¥Â»[31m src/core/services/__tests__/OperationQueue.test.ts[2m > [22mOperationQueue[2m > [22mRetry Logic[2m > [22mshould fail immediately on permanent errors (ENOENT)[39m
[31m     Î“Ã¥Ã† expected undefined to be 'ENOENT' // Object.is equality[39m
[31m   [33mÎ“Â¥Â»[31m src/core/services/__tests__/OperationQueue.test.ts[2m > [22mOperationQueue[2m > [22mRetry Logic[2m > [22mshould fail immediately on schema errors[39m
[31m     Î“Ã¥Ã† expected 'Should have thrown error' to contain 'Schema validation'[39m
[31m   [33mÎ“Â¥Â»[31m src/core/services/__tests__/OperationQueue.test.ts[2m > [22mOperationQueue[2m > [22mError Handling[2m > [22mshould propagate error to caller[39m
[31m     Î“Ã¥Ã† expected AssertionError{ Î“Ã‡Âª(6) } to deeply equal { code: 'EPERM', Î“Ã‡Âª(3) }[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 4 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  src/core/services/__tests__/OperationQueue.test.ts > OperationQueue > Retry Logic > should fail immediately on permanent errors (EPERM)
AssertionError: expected undefined to be 'EPERM' // Object.is equality

- Expected: 
"EPERM"

+ Received: 
undefined

 Î“Â¥Â» src/core/services/__tests__/OperationQueue.test.ts:246:36
    244|                 expect.fail('Should have thrown error');
    245|             } catch (error: any) {
    246|                 expect(error.code).toBe('EPERM');
       |                                    ^
    247|                 expect(operation).toHaveBeenCalledTimes(1); // No retrÎ“Ã‡Âª
    248|             }

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/4]Î“Ã„Â»

 FAIL  src/core/services/__tests__/OperationQueue.test.ts > OperationQueue > Retry Logic > should fail immediately on permanent errors (ENOENT)
AssertionError: expected undefined to be 'ENOENT' // Object.is equality

- Expected: 
"ENOENT"

+ Received: 
undefined

 Î“Â¥Â» src/core/services/__tests__/OperationQueue.test.ts:260:36
    258|                 expect.fail('Should have thrown error');
    259|             } catch (error: any) {
    260|                 expect(error.code).toBe('ENOENT');
       |                                    ^
    261|                 expect(operation).toHaveBeenCalledTimes(1);
    262|             }

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/4]Î“Ã„Â»

 FAIL  src/core/services/__tests__/OperationQueue.test.ts > OperationQueue > Retry Logic > should fail immediately on schema errors
AssertionError: expected 'Should have thrown error' to contain 'Schema validation'

- Expected
+ Received

- Schema validation
+ Should have thrown error

 Î“Â¥Â» src/core/services/__tests__/OperationQueue.test.ts:274:39
    272|                 expect.fail('Should have thrown error');
    273|             } catch (error: any) {
    274|                 expect(error.message).toContain('Schema validation');
       |                                       ^
    275|                 expect(operation).toHaveBeenCalledTimes(1);
    276|             }

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[3/4]Î“Ã„Â»

 FAIL  src/core/services/__tests__/OperationQueue.test.ts > OperationQueue > Error Handling > should propagate error to caller
AssertionError: expected AssertionError{ Î“Ã‡Âª(6) } to deeply equal { code: 'EPERM', Î“Ã‡Âª(3) }

- Expected
+ Received

- Object {
-   "actual": "undefined",
-   "code": "EPERM",
-   "expected": "undefined",
-   "message": "Permission denied",
- }
+ [AssertionError: Should have thrown error]

 Î“Â¥Â» src/core/services/__tests__/OperationQueue.test.ts:424:29
    422|                 expect.fail('Should have thrown error');
    423|             } catch (err) {
    424|                 expect(err).toEqual(error);
       |                             ^
    425|             }
    426|         });
[31mÎ“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1m[7m Unhandled Errors [27m[22mÎ“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[39m
[31m[1m
Vitest caught 6 unhandled errors during the test run.
This might cause false positive tests. Resolve unhandled errors to make sure your tests are not affected.[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[4/4]Î“Ã„Â»


Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Unknown Error: Permission denied
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Serialized Error: { code: 'EPERM' }
This error originated in "src/core/services/__tests__/OperationQueue.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should fail immediately on permanent errors (EPERM)". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Unknown Error: File not found
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Serialized Error: { code: 'ENOENT' }
This error originated in "src/core/services/__tests__/OperationQueue.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should fail immediately on permanent errors (ENOENT)". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Unknown Error: Schema validation failed
This error originated in "src/core/services/__tests__/OperationQueue.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should fail immediately on schema errors". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Unknown Error: Permission denied
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Serialized Error: { code: 'EPERM' }
This error originated in "src/core/services/__tests__/OperationQueue.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should remove failed operation from queue". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
{
  code: 'ENOENT',
  expected: 'undefined',
  actual: 'undefined',
  VITEST_TEST_NAME: 'should continue processing queue after failure',
  VITEST_TEST_PATH: 'src/core/services/__tests__/OperationQueue.test.ts',
  VITEST_AFTER_ENV_TEARDOWN: undefined,
  type: 'Unhandled Rejection',
  stacks: []
}
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Serialized Error: { code: 'ENOENT' }
This error originated in "src/core/services/__tests__/OperationQueue.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should continue processing queue after failure". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Unhandled Rejection Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Unknown Error: Permission denied
Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»
Serialized Error: { code: 'EPERM' }
This error originated in "src/core/services/__tests__/OperationQueue.test.ts" test file. It doesn't mean the error was thrown inside the file itself, but while it was running.
The latest test that might've caused the error is "should propagate error to caller". It might mean one of the following:
- The error was thrown, while Vitest was running this test.
- If the error occurred after the test had been completed, this was the last documented test before it was thrown.
[31mÎ“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[39m

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m4 failed[39m[22m[2m | [22m[1m[32m18 passed[39m[22m[90m (22)[39m
[2m     Errors [22m [1m[31m6 errors[39m[22m
[2m   Start at [22m 23:35:37
[2m   Duration [22m 874ms[2m (transform 34ms, setup 63ms, collect 18ms, tests 13ms, environment 394ms, prepare 57ms)[22m

